<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="flot-chart-stacking.html">
<link rel="import" href="flot-chart-series-pie.html">

<!--
An element providing a solution to no problem in particular.

Example:

    <flot-charts></flot-charts>

@demo
-->
<dom-module id="flot-charts">

  <style>
    :host {
      display: block;
    }

    .flotChart{
      height: 300px;
      width: 100%;
    }

    .half{
      width: 51%;
    }
  </style>

  <template>
  <h3>Stacking</h3>
    <flot-chart-stacking class="flotChart" data=[[data]]></flot-chart-stacking>
    <flot-chart-stacking class="flotChart" data=[[data]] bars></flot-chart-stacking>
  <h3>Pie</h3>
    <flot-chart-series-pie class="flotChart half" data=[[dataPie]]></flot-chart-series-pie>
  </template>

</dom-module>

<script>

  (function() {
  Polymer({
    is: 'flot-charts',

    ready:function(){

      var d1 = [];
      for (var i = 0; i <= 10; i += 1) {
        d1.push([i, parseInt(Math.random() * 30)]);
      }
      var d2 = [];
      for (var i = 0; i <= 10; i += 1) {
        d2.push([i, parseInt(Math.random() * 30)]);
      }
      var d3 = [];
      for (var i = 0; i <= 10; i += 1) {
        d3.push([i, parseInt(Math.random() * 30)]);
      }
      
      this.data = [d1,d2,d3];
      
      this.dataPie = [
                   { label: "Series1",  data: 10},
                   { label: "Series2",  data: 30},
                   { label: "Series3",  data: 90},
                   { label: "Series4",  data: 70},
                   { label: "Series5",  data: 80},
                   { label: "Series6",  data: 110}
                  ];

      
      this.async(this.plot, 1000);
    },

    plot:function(){
      var charts = document.getElementsByClassName("flotChart");
      for (var i = charts.length - 1; i >= 0; i--) {
        charts[i].plot();
      };
    }


  });
})();

</script>
